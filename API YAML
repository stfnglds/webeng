swagger: '2.0'
info:
  version: 2.0.0
  title: Adressbooks
host: localhost
tags:
  - name: Entries
    description: Entries of addressbooks
  - name: Addressbooks
    description: Everything about Addresbooks
  - name: Groups
    description: Groups for entries of addressbooks

schemes:
  - https
  - http
paths:
  /entries:
    get:
      tags:
        - Entries
      summary: Get all entries
      parameters:
        - in: query
          name: id
          type: integer
      responses:
        200:
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Entries'
        400:
          description: Invalid status value

    post:
      tags:
        - Entries
      summary: Add a new entrie to a addressbook/group
      parameters:
        - in: body
          name: body
          schema:
            type: object
            properties:
              groups:
                type: integer
              books:
                type: integer
              name:
                type: string
              email:
                type: string
              address:
                type: string
              rating:
                  type: integer
                  minimum: 1
                  maximum: 10

      responses:
        405:
          description: Invalid input

  /entries/{entryId}:
    put:
      tags:
        - Entries
      summary: Update an existing entrie
      parameters:
        - in: path
          name: entryId
          required: true
          type: integer
        - in: body
          name: body
          schema:
            type: object
            properties:
              groups:
                type: integer
              books:
                type: integer
              name:
                type: string
              email:
                type: string
              address:
                type: string
              rating:
                  type: integer
                  minimum: 1
                  maximum: 10
      responses:
        400:
          description: Invalid ID supplied
        404:
          description: Entrie not found
        405:
          description: Validation exception
    delete:
      tags:
        - Entries
      summary: Deletes a entrie
      parameters:
          - in: path
            name: entryId
            required: true
            type: integer
      responses:
        400:
          description: Invalid ID supplied
        404:
          description: Entrie not found

  /addressbooks:
    get:
      tags:
        - Addressbooks
      summary: Get all addressbooks

      responses:
        200:
          description: successful operation
          schema:
            $ref: '#/definitions/Addressbooks'
        404:
          description: No book found
    post:
      tags:
        - Addressbooks
      summary: Create a new addressbook
      parameters:
        - in: body
          name: Addressbook name
          required: true
          schema:
            type: string
      responses:
        200:
          description: Ok
        405:
          description: Invalid input



  /addressbooks/{addressbookId}:
    get:
      tags:
      - Addressbooks
      summary: Get one addressbook by id
      parameters:
        - in: path
          name: addressbookId
          required: true
          type: integer
      responses:
        200:
          description: succcessful operation
          schema:
            $ref: '#/definitions/Addressbooks'
    put:
      tags:
      - Addressbooks
      parameters:
        - in: path
          name: addressbookId
          required: true
          type: integer
      responses:
         200:
          description: succcessful operation
    delete:
      tags:
      - Addressbooks
      parameters:
        - in: path
          name: addressbookId
          required: true
          type: integer
      responses:
         200:
          description: succcessful operation




  /groups:

    get:
      tags:
        - Groups
      summary: Get all groups
      responses:
        200:
          description: successful operation
          schema:
            type: array
            items:
              $ref: '#/definitions/Groups'
        400:
          description: Invalid status value

    post:
      tags:
        - Groups
      summary: Create groups
      parameters:
        - in: body
          name: body
          required: true
          schema:
            type: string
      responses:
        default:
          description: successful operation


  /groups/{groupId}:
    delete:
      tags:
        - Groups
      summary: Delete groups

      parameters:
        - name: groupId
          in: path
          description: The group id  that needs to be deleted
          required: true
          type: integer
      responses:
        400:
          description: Invalid group id supplied
        404:
          description: Group not found
    put:
      tags:
      - Groups
      parameters:
        - name: groupId
          in: path
          description: The group id  that needs to be deleted
          required: true
          type: integer
      responses:
         400:
          description: Invalid group id supplied
    get:
      tags:
      - Groups
      parameters:
        - name: groupId
          in: path
          description: The group id  that needs to be deleted
          required: true
          type: integer
      responses:
         400:
          description: Invalid group id supplied

definitions:
  Addressbooks:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
    xml:
      name: Addressbooks
  Groups:
    type: object
    properties:
      id:
        type: integer
        format: int64
      name:
        type: string
    xml:
      name: Groups
  Entries:
    type: object
    properties:
      id:
        type: integer
        format: int64
      groups:
        type: integer
      books:
        type: integer
      name:
        type: string
      email:
        type: string
      address:
        type: string
      rating:
            type: integer
            minimum: 1
            maximum: 10
    xml:
      name: Entries
